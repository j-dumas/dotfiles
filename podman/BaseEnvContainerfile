FROM archlinux:latest 
LABEL Description="Base development env" 

# Installed needed development packages
RUN pacman -Syu --noconfirm \
    base-devel \
    zsh \
    neovim \
    git \
    wget 

RUN pacman -Scc --noconfirm 

# Create non root user
RUN useradd -m -s /usr/bin/zsh jdumas
USER jdumas

# Initialize folders so they are not root owned on mount
RUN mkdir /home/jdumas/.local && mkdir /home/jdumas/.config

ENV HOME /home/jdumas
ENV PROMPT="%F{#a6e3a1}%n%f@%F{#89b4fa}%m%f:%F{#fab387}%~%f $ "

WORKDIR /home/jdumas/src
CMD ["/usr/bin/zsh"]
